!function(a){"use strict";"function"==typeof define&&define.amd?define(["knockout","lodash"],a):a(ko,_)}(function(a,b){function c(a,b){for(var c in a)if(a.hasOwnProperty(c)&&a[c]&&a[c].toString().indexOf(b)>=0)return c}function d(a,b){for(var c in a)if(a.hasOwnProperty(c)&&a[c]&&a[c][b])return a[c]}function e(a){return a&&"object"==typeof a&&!b.isArray(a)&&p.call(a,"__wrapped__")}function f(c){this.__func__={children:[],root:"",loFunc:"tap",args:[b.noop]},c&&(this.__func__.parent={children:[this.__func__]},this.__func__.parent.__output__=a.computed(function(){return{"":b(c())}}),current=this.__func__.parent)}function g(a){for(var b,c="";~a;)c+=String.fromCharCode((b=a%65536)+45),a-=b,a=a?a/65536:-1;return c}function h(a){for(var b=0,c=0;c<a.length;)b+=Math.pow(65536,c)*(a.charCodeAt(c)-45),c++;return b}function i(a,b){var c=a.slice(b.length+1);return c=c.slice(0,~c.indexOf(",")?c.indexOf(","):c.length),h(c)}function j(b){return a.computed(function(){return a.unwrap(a.unwrap(b.parent.__output__))[b.parent.root||""].value()})}function k(c,d,e){var f=a.observable(),g=b.once(function(a){return a}),h=A(c);if(!e||!h.parent.parent){d=a.utils.extend(d||{}),d.read=function(){var a={},c=[],d=[];return h=B(h,g,c),null===h?null:(lodashCall=D(h),"observe"===h.loFunc?lodashCall:(lodashCall=C(h,lodashCall,a),x(h,a,lodashCall,f,d,c),b.each(c,E),f(a),b.each(d,F),a))};var i=a.computed(d);return g().dep.__comp__||(g().dep.__comp__=i),i}y(h.parent,c.root)}var l=d(a,"end"),m=c(l,".push"),n={},o={},p=Object.prototype.hasOwnProperty;f.fn=f.prototype;var q=function(a,b,c,d){a.__func__={loFunc:b,args:c,comp:null,root:d.__func__.root.split(",").concat(g(d.__func__.children.length)).join(","),parent:d.__func__,children:[],dep:void 0},d.__func__.children.push(a.__func__)},r=function(c){return argArr=[],b(c).reverse().each(function(b){var c=b;c=a.utils.unwrapObservable(c),argArr.push(c)}),argArr};b.mixin(f.prototype,b(b.prototype).keys().object().mapValues(function(a,b){return function(){var a=new f;return q(a,b,arguments,this),a}}).value());var s=b.mixin;b.mixin({mixin:function(){var a=b.keys(b.prototype);s.apply(this,arguments),b(b.prototype).keys().difference(a).tap(function(a){a.length&&s(f.prototype,b(a).object().mapValues(function(a,b){return function(){var a=new f;return q(a,b,arguments,this),a}}).value())})}});var t=function(){for(var b=this.__func__;b.parent;)b=b.parent;if(a.isWriteableObservable(b.__output__[""])){var c=this.wrappedValueOf();b.__output__[""](c.valueOf())}return b.__output__},u=function(){for(var b,c=[],d=this.__func__,f=d.root;!a.isObservable(d.parent.__output__||0)&&d.parent.parent;)d.dep&&c.push(d),d=d.parent;if(b=D(d),e(b))for(;d;){var g=r(d.args);b=b[d.loFunc].apply(b,g),d=d.children[i(f,d.root)]}return b},v=function(){var a=new f;q(a,"value",arguments,this);var b=a.wrappedValueOf();return b&&b.valueOf()},w=function(a){var b=new f;return q(b,"observe",arguments,this),k(b.__func__,a,!0),j(b.__func__)};b.mixin(f.prototype,{mutate:t,wrappedValueOf:u,wrappedValue:u,valueOf:v,value:v,observe:w,observeValueOf:w});var x=function(c,d,f,g,h,i){var j=f,k=!1;b(c.children).each(function(c){if(c.observed){var f=!0;l[m]({callback:G});try{if("observe"===c.loFunc)k=!0,f=!1;else if(e(j)){if(b.any(c.children,{loFunc:"observe"}))throw o;var p=r(c.args);j=j[c.loFunc].apply(j,p),c.dep&&i.push(c),c.__output__=j,c.observed=1}}catch(q){if(q!==n&&q!==o)throw q;k=!0,f=!1,c.dep?c.dep.peek()!=g&&"observe"!==c.loFunc&&c.dep(g):(c.dep=a.observable(g),h.push(c))}a.computedContext.end(),f&&x(c,d,j,g,h,i)}}),k&&(d[c.root]=f,c.__output__=g)},y=function(c,d){for(var e=c.__output__,f=a.unwrap(e),g=[];c.__output__&&1===c.observed;)c=c.children[i(d,c.root)];var h=c.parent.__output__;return a.isObservable(h)&&(h=a.unwrap(h)[c.parent.root]),z(c,d,f,h,e,g),b.each(g,F),f},z=function(c,d,f,g,h,j){var k=!0,p=!1;setParentOutput=!1,lodashCall=g,l[m]({callback:G});try{if("observe"===c.loFunc)setParentOutput=!0,k=!1;else if(e(lodashCall)){if(b.any(c.children,{loFunc:"observe"}))throw o;var q=r(c.args);lodashCall=lodashCall[c.loFunc].apply(lodashCall,q),c.__output__=lodashCall,c.observed=1}}catch(s){if(s!==n&&s!==o)throw s;setParentOutput=!0,k=!1,c.dep=a.observable(h),j.push(c)}return a.computedContext.end(),k&&(p=z(c.children[i(c.root,d)],d,f,lodashCall,h,j)),p&&(f[c.root]=lodashCall,c.__output__=h),setParentOutput},A=function(b){for(;b.parent&&!a.isObservable(b.parent.__output__||0);)b.observed=-1,b=b.parent;return b.observed=!0,b.dep||(b.dep=a.observable(b.parent.__output__)),b},B=function(b,c){return b=c(b),b.parent&&!a.isObservable(b.parent.__output__||0)?null:b},C=function(a,b){if(e(b)){var c=r(a.args);a.observed=1,b=b[a.loFunc].apply(b,c)}return b},D=function(b){var c;return a.unwrap(a.unwrap(b.dep)),c=a.unwrap(b.parent.__output__),c=c[b.parent.root||""],c=a.unwrap(c)},E=function(a){if(a.dep){var b=a.dep;a.dep=null,b(null),b.__comp__&&b.__comp__.dispose()}},F=function(a){a.dep.__comp__=k(a)},G=function(){throw n};a.observable.fn._=a.observable.fn.kodash=a.dependentObservable.fn._=a.dependentObservable.fn.kodash=function(){return new f(this)}});
//# sourceMappingURL=kodash.min.map